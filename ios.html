<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <title>AR Viewer (iOS)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  </head>

  <body style="margin:0; background:#202020; color:white; font-family:sans-serif;">

    <div style="position:fixed; top:10px; left:10px; z-index:10;">
      <h1 style="margin:0; font-size:18px;">
        iPhone AR (Quick Look) ðŸ“±
      </h1>
      <p style="margin:4px 0 0;">
        Move your phone to detect the floor, then tap to place the model.
      </p>
    </div>

    <!-- Simple overlay shown immediately (because Quick Look ignores WebXR placement) -->
    <div
      style="
        position:fixed;
        left:50%;
        bottom:80px;
        transform:translateX(-50%);
        z-index:30;
        background:rgba(0,0,0,0.75);
        padding:10px 14px;
        border-radius:12px;
        font-size:14px;
        line-height:1.3;
        text-align:center;
        max-width:92vw;">
      iPhone: move your phone, then tap to place the model. If it appears too close, step back and tap again.
    </div>

    <model-viewer
      id="mv"
      src="Siemens%20CH.glb"
      ios-src="Siemens%20CH.usdz"
      ar
      ar-modes="quick-look"
      camera-controls
      auto-rotate
      scale="0.01 0.01 0.01"
      bounds="tight"
      style="width:100vw; height:100vh;">
    </model-viewer>

    <button id="btnAR"
      style="
        position:fixed;
        bottom:16px;
        left:50%;
        transform:translateX(-50%);
        padding:12px 18px;
        border-radius:999px;
        border:none;
        background:white;
        color:black;
        font-weight:600;
        font-family:inherit;
        box-shadow:0 4px 12px rgba(0,0,0,0.3);
        z-index:20;">
      View in AR
    </button>

    <script>
      const mv = document.getElementById('mv');
      const btn = document.getElementById('btnAR');

      btn.addEventListener('click', () => {
        if (mv && mv.activateAR) mv.activateAR();
      });
    </script>

  </body>
</html>
